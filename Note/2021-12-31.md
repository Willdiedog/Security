# 来个年终总结吧

成为打工人之后, 就没有再写过年终总结了, 一是打工仔生活过于枯燥, 再一个是受疫情影响, 也没啥心情来写. 年更的公众号也彻底断更了...
今年在工作上有了比较大的变动, 算得上是比较关键的一年. 加上胖鑫的催更, 在离新的一年还有3个小时不到的时间, 写写最近一段时间的总结吧

这些年很少写这种文字, 感觉用词用句都出问题了....


## 跑路

今年从校招公司sxf离职了, 待了两年多一些的样子, 这两年多的时间里, 跑路的心思持续了好久. 也面试了好多次外面的机会

随着面试以及工作中对外面机会的了解, 越发觉着找下家很难: 做同类产品的中小型公司, 还处于非常原始的阶段, 待遇上也不是很好. 大型公司对岗位的细分方向要求挺深的, 我这边也没到符合的程度

面试中感觉最离谱的是面 baidu 和 tencent, 都是在一面阶段, 3个不同方向的面试官面我一个, 持续两小时左右. 基本是一人问 acm like的题目和编程基础, 一人问机器学习, 还有一人问攻防能力

小菜鸡毫无疑问的挂掉了, 被人问了这么多方向, 无疑是因为自己做的太杂了. 但又没有在任意一个方向拿得出手

而我在sxf的岗位是一个交叉岗位, 攻防 + 少量算法 + 微量开发. 但说到底还是属于研发体系, 在不必要的开发流程上耗费太多精力, 加上拉通对齐的事情逐渐多了起来(岗位带来的必要对齐), 离谱的时候, 一周内有50+%的时间在跟隔壁部门对接
想到自己校招找安全公司的初衷, 决定专注于攻防方向, 这是我离职原因的一大重要原因吧

另外一个离职原因源于今年4月护网, 出差3个周, 体验了久违的早9晚9的生活. 快结束的时候, 感觉自己修养的不错的时候, 一起护网的小伙伴却说要累死了
这时我才意识到之前 早9晚至少9:30, 日常晚10:30甚至11:30的生活是极度病态的.

每天大部分的精力用于打工, 回家基本处于一种倒头就可以睡的状态。 完全没有时间和精力充电, 能力的增长逐渐处于一个停滞状态, 迫切需要一个合适的机会打破当干电池的局面

其实于我的位置而言, 用干电池一词其实是有些牵强的, 我已经差不多是“摸鱼组”摸鱼最多的人了.
由于工作内容的变化, 我这边有了大量时间用于漏洞复现, 离职轻点交接材料的时候, 光我个人pc上就保留有126的pcap包
也多出来很多时间用于查看设备检出的各种病毒, 分析过一些脚本和二进制病毒, 还不会徒手脱vmp壳是一大遗憾...
看到 solarwinds 供应链攻击的分析报告简直是震撼我好几个月, 瞬间觉着之前分析的样本过于小儿科了...

摸鱼get的技能毕竟缺少实战的地方, 自己闭门造车也属实无聊, 出去接触一下新环境大概是另一大原因了


出于方便照顾家庭的目的, 今年跟胖鑫达成共识, 打算胖鑫毕业后在北京工作. 自由打工人就粮草先行, 先去北京探探路


## 换方向

从小技能树都是随兴趣来点的

回想初一的时候, 感觉OI好玩, 就开始码码, 想的是做 hacker

本科就没有别的想法了, 纯粹水水acm度日的样子, 其他投入精力较大的大概就是CV和机器学习了

临近工作, 才留意到安全方向, 虽然安全能力基本为0, 校招的好处就是没有基础也可以先上岸再学习

目前的状态大概在一个尴尬期, 也就是前面提到的各方面都just so so, 彻底放弃某个方向自然是不舍得的, 毕竟想做一个学力自由的人. 前期先以点破面再说

目前在 ct 做红队工具开发, 说的高级一些是武器化开发, 也算是圆了初中时的职业规划?
今年中刚成立的项目, 迭代健康, 反馈机制完善, 只是人力严重不足, 有想法的同学可以找我内推啊


啰啰嗦嗦了一大坨, 方向和跑路在我看来都是很难条理讲出来的, 毕竟难以完全否定一个公司, 下面说点有意思的


## 搞事情

### 台式机

疫情加上之前工作搞域控安全需要开很多虚拟机, 所以去年搞了一台比较给力的机器, 以联想整机为基础, 一番升升补补之后, 配置大概为:

3700x, 80G RAM, 512(pm981a) + 1T + 2T(970 evo plus), 2060

配置感觉尚可, 但是毕竟是修修补补的结果, 扩展性存在问题, 且 3700x 总感觉反应有些迟钝, 虚拟化兼容性也老感觉有问题, 加上12代intel即将发布, 所以决定出掉老电脑, 投奔 intel

在21年的最后一周, 我也终于配齐了新机器, 配置为:

12700k, 64G RAM, 512(pm981a) + 1T + 2T(970 evo plus), 3080ti

这个配置, 目前显著瓶颈在于显卡散热了, 再就是内存可能有些不够, 不过新工作目前不需要考虑域控环境, 简单开个web docker就基本满足了. 3080ti的12G显存也不够战未来, 不过也没啥, 不怎么打游戏


### 软路由

因为工作用的macbook的性能过于鸡肋(ps: 听别人吹了这么多年的macbook, 因为工作原因终于用上了. 恕我直言, 即使是 4核i5, 16 + 512的配置, 这么多年我也没用过比这还卡的机器了...)
所以决定让家里台式机负担起开虚拟机的重任

需要材料:
    1. vps, 提供公网ip, 做流量转发
    2. 软路由

配置方式:
    1. vpn 运行 frps
    2. 软路由运行 openvpn
    3. 软路由运行frpc
    4. 使用 frp 把本地的 openvpn 登录接口转发出来

经过简答的设置, 就可以在公司用mbp轻松访问家里的内网了. 

目前这个方案还是有些弊端, 最近在搞有些dns协议上的事情, openvpn会接管dns请求, 所以openvpn客户端到家庭内网直连的dns请求是被阶段的, 只好在公网部署了一个dns server测试用


衍生玩法:
    挂 openvpn, 通过 steam link, 私有云打3A


### 今年搞过的

1. SOCP, 准备进度大概在80% 的样子, 因为新公司不报销报考费用, 自己考的话, 从准备的收获和证书价值两方面来看, 性价比过低, 放弃了
2. 换工作, got
3. 换方向, got
4. 去了三亚
5. 去了上海

职场上搞过的比较有成就感的东西:

1. 仔细研究了 dce-rpc 协议, 可以自己写相关协议的审计了. 微软的文档确实牛. 不过密密麻麻的东西太多了, 用的时候还得重新翻一下文档
2. 加密挖矿流量检测, 目前从友商公开的宣传来看, 基本还处于非加密挖矿或者威胁情报的阶段. 但是挖矿蠕虫已经开始有很多绕过姿势了, 哎...
3. 设计了一套恶意软件家族的检测方案, 预计只要运营得当, 拿到大量数据后, 可以搞很多有意思的东西, 而且接触了两三个中大型友商, 均没有做这个的打算
4. 翻了一遍 empire的代码, 还有一些类似的渗透框架, 感觉都那么回事吧, 没什么新鲜感了...
5. 开始试着调试一些系统工具, 搞明白其工作原理

### 想搞的

1. 软路由的cpu占用常年低于 20%, 而且有一个usb2.0接口, 所以考虑在路由器上搞个流量审计, 毕竟家庭网络有一部分在公网, 按需做点审计会比较放心, 魔改 suricata + elk, 或者从零开始写一个简单审计, 应该问题不大
2. 业余时间多起来了, 也差不多要搞二进制安全了.... 想起来我现在是web安全研究组里, 唯一一个不懂web安全的人....
   1. 调试明白5个域控漏洞
   2. 系统学习windows身份验证
   3. 尝试挖一个二进制漏洞, 或者尝试破解一个专业软件
   4. 脱一下御剑系列工具的壳, 网上可参考的信息非常少, 基本要完全自己脱了.
3. 找机会迫害一下公司大佬, 打打CTF..... 前一阵子坑学弟报名了西湖论剑...ctf和实际更像两个东西, 但是搞搞技巧性的东西对自己也好
4. 巫师3 通关

### 一些吐槽

1. 都2021年了, 知乎还会卡死, 微信的pc/mac端切换耳机还会卡死, 手机端的微信在蓝牙耳机的切换上表现的像个呆子
2. 黄牛时代, 京东抢到的东西可以秒上咸鱼double出, 魔幻
3. 大涨价时代, 买啥都感觉魔幻
